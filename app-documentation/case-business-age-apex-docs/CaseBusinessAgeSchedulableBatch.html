<html><head><script type='text/javascript' src='jquery-1.11.1.js'></script><script type='text/javascript' src='CollapsibleList.js'></script><script type='text/javascript' src='ApexDoc.js'></script><link rel='stylesheet' type='text/css' href='ApexDoc.css' /> </head><body><div class='topsection'><table><tr><td><img src='apex_doc_logo.png' style='border:1px solid #000;'/></td><td><h2 style='margin:0px;'>Project Demo</h2>Check out the gitHub project at:<br/><a href='http://github.com/SalesforceFoundation/ApexDoc'>http://github.com/SalesforceFoundation/ApexDoc</a><br/></td></tr></table></div><table width='100%'><tr><td colspan='2' style='text-align: center;' >Show: <input type='checkbox' checked='checked' id='cbxglobal' onclick='ToggleScope("global", this.checked );'>global</input>&nbsp;&nbsp;<input type='checkbox' checked='checked' id='cbxpublic' onclick='ToggleScope("public", this.checked );'>public</input>&nbsp;&nbsp;<input type='checkbox' checked='checked' id='cbxwebService' onclick='ToggleScope("webService", this.checked );'>webService</input>&nbsp;&nbsp;</td></tr><tr style='vertical-align:top;' ><td width='20%' vertical-align='top' ><div class='sidebar'><div class='navbar'><nav role='navigation'><ul id='mynavbar'><li id='idMenuindex'><a href='.' onclick="gotomenu('index.html', event);return false;" class='nav-item'>Home</a></li><li class='header' id='idMenunull'><a class='nav-item nav-section-title' href='.' onclick="gotomenu(document.location.href, event);return false;" class='nav-item'>Miscellaneous<span class='caret'></span></a></li><ul><li class='subitem classscopepublic' id='idMenuBusinessHoursService'><a href='.' onclick="gotomenu('BusinessHoursService.html', event);return false;" class='nav-item sub-nav-item scopepublic'>BusinessHoursService</a></li><li class='subitem classscopepublic' id='idMenuCaseBusinessAgeAutomator'><a href='.' onclick="gotomenu('CaseBusinessAgeAutomator.html', event);return false;" class='nav-item sub-nav-item scopepublic'>CaseBusinessAgeAutomator</a></li><li class='subitem classscopepublic' id='idMenuCaseBusinessAgeConfigScreenController'><a href='.' onclick="gotomenu('CaseBusinessAgeConfigScreenController.html', event);return false;" class='nav-item sub-nav-item scopepublic'>CaseBusinessAgeConfigScreenController</a></li><li class='subitem classscopepublic' id='idMenuCaseBusinessAgeSchedulableBatch'><a href='.' onclick="gotomenu('CaseBusinessAgeSchedulableBatch.html', event);return false;" class='nav-item sub-nav-item scopepublic'>CaseBusinessAgeSchedulableBatch</a></li><li class='subitem classscopepublic' id='idMenuMockBusinessHours'><a href='.' onclick="gotomenu('MockBusinessHours.html', event);return false;" class='nav-item sub-nav-item scopepublic'>MockBusinessHours</a></li><li class='subitem classscopepublic' id='idMenuTestUtil'><a href='.' onclick="gotomenu('TestUtil.html', event);return false;" class='nav-item sub-nav-item scopepublic'>TestUtil</a></li></ul></ul></nav></div></div></div></td><td class='contentTD'><h2 class='section-title'><a target='_blank' class='hostedSourceLink' href='https://github.com/Duelfer-Solutions/case-age-in-days/tree/development/force-app/main/default/classes/CaseBusinessAgeSchedulableBatch.cls#L16'>CaseBusinessAgeSchedulableBatch</a></h2><div class='classSignature'><a target='_blank' class='hostedSourceLink' href='https://github.com/Duelfer-Solutions/case-age-in-days/tree/development/force-app/main/default/classes/CaseBusinessAgeSchedulableBatch.cls#L16'>public with sharing class CaseBusinessAgeSchedulableBatch implements Database.Batchable&#60;SObject&#62;, Schedulable</a></div><div class='classDetails'>@description Schedulable class responsible for kicking off the batch job and providing the option to schedule it. This class is designed to trigger the calculation of business age for Case records using a provided {@link BusinessHoursService} implementation. Includes defensive checks to ensure the batch job is only started if the required configuration values are non-blank. The job can be scheduled using a CRON expression, and the ID of the batch job is stored in a static, test-visible variable for test verification purposes. @see CaseBusinessAgeAutomator @see BusinessHoursService</div><p/><h2 class='subsection-title'>Methods</h2><div class='subsection-container'> <ul class='methodTOC'><li class='methodscopepublic' ><a class='methodTOCEntry' href='#CaseBusinessAgeSchedulableBatch'>CaseBusinessAgeSchedulableBatch</a><div class='methodTOCDescription'>@constructor Constructor for the schedulable batch class.</div></li><li class='methodscopepublic' ><a class='methodTOCEntry' href='#execute'>execute</a><div class='methodTOCDescription'>Executes the business age calculation on a scope of Case records.</div></li><li class='methodscopepublic' ><a class='methodTOCEntry' href='#execute'>execute</a><div class='methodTOCDescription'>Executes the scheduled job, which conditionally runs the CaseBusinessAgeBatchable batch class. The batch is only executed if both `businessHoursId` and `unit` are non-blank.</div></li><li class='methodscopepublic' ><a class='methodTOCEntry' href='#finish'>finish</a><div class='methodTOCDescription'>Executes logic after all batches are complete. Finish method is required by Database.Batchable interface, but can be left empty.</div></li><li class='methodscopepublic' ><a class='methodTOCEntry' href='#start'>start</a><div class='methodTOCDescription'>Prepares the query to retrieve Case records to process.</div></li><li class='methodscopepublic' ><a class='methodTOCEntry' href='#start'>start</a><div class='methodTOCDescription'>Method to start an hourly scheduled job. Calls the start method with a null parameter.</div></li><li class='methodscopepublic' ><a class='methodTOCEntry' href='#start'>start</a><div class='methodTOCDescription'>Method to start the scheduled job.</div></li></ul><div class='methodscopepublic' ><h2 class='methodHeader'><a id='CaseBusinessAgeSchedulableBatch'/>CaseBusinessAgeSchedulableBatch</h2><div class='methodSignature'><a target='_blank' class='hostedSourceLink' href='https://github.com/Duelfer-Solutions/case-age-in-days/tree/development/force-app/main/default/classes/CaseBusinessAgeSchedulableBatch.cls#L34'>public CaseBusinessAgeSchedulableBatch(String businessHoursId, CaseBusinessAgeAutomator.Unit unit, BusinessHoursService calc)</a></div><div class='methodDescription'>@constructor Constructor for the schedulable batch class.</div><div class='methodSubTitle'>Parameters</div><div class='paramName'>businessHoursId</div><div class='paramDescription'>The ID of the Business Hours record to use in calculations.</div><div class='paramName'>unit</div><div class='paramDescription'>The unit of measurement for business age ('Days' or 'Hours').</div><div class='paramName'>calc</div><div class='paramDescription'>The implementation of BusinessHoursService used to perform calculations.</div></div><div class='methodscopepublic' ><h2 class='methodHeader'><a id='execute'/>execute</h2><div class='methodSignature'><a target='_blank' class='hostedSourceLink' href='https://github.com/Duelfer-Solutions/case-age-in-days/tree/development/force-app/main/default/classes/CaseBusinessAgeSchedulableBatch.cls#L57'>public void execute(Database.BatchableContext bc, List&#60;sObject&#62; scope)</a></div><div class='methodDescription'>Executes the business age calculation on a scope of Case records.</div><div class='methodSubTitle'>Parameters</div><div class='paramName'>bc</div><div class='paramDescription'>The batchable context.</div><div class='paramName'>scope</div><div class='paramDescription'>A list of Case records to process in this batch if not empty.</div></div><div class='methodscopepublic' ><h2 class='methodHeader'><a id='execute'/>execute</h2><div class='methodSignature'><a target='_blank' class='hostedSourceLink' href='https://github.com/Duelfer-Solutions/case-age-in-days/tree/development/force-app/main/default/classes/CaseBusinessAgeSchedulableBatch.cls#L78'>public void execute(SchedulableContext sc)</a></div><div class='methodDescription'>Executes the scheduled job, which conditionally runs the CaseBusinessAgeBatchable batch class. The batch is only executed if both `businessHoursId` and `unit` are non-blank.</div><div class='methodSubTitle'>Parameters</div><div class='paramName'>sc</div><div class='paramDescription'>The context object passed to all scheduled job executions.</div></div><div class='methodscopepublic' ><h2 class='methodHeader'><a id='finish'/>finish</h2><div class='methodSignature'><a target='_blank' class='hostedSourceLink' href='https://github.com/Duelfer-Solutions/case-age-in-days/tree/development/force-app/main/default/classes/CaseBusinessAgeSchedulableBatch.cls#L70'>public void finish(Database.BatchableContext bc)</a></div><div class='methodDescription'>Executes logic after all batches are complete. Finish method is required by Database.Batchable interface, but can be left empty.</div><div class='methodSubTitle'>Parameters</div><div class='paramName'>bc</div><div class='paramDescription'>The batchable context.</div></div><div class='methodscopepublic' ><h2 class='methodHeader'><a id='start'/>start</h2><div class='methodSignature'><a target='_blank' class='hostedSourceLink' href='https://github.com/Duelfer-Solutions/case-age-in-days/tree/development/force-app/main/default/classes/CaseBusinessAgeSchedulableBatch.cls#L46'>public Database.QueryLocator start(Database.BatchableContext bc)</a></div><div class='methodDescription'>Prepares the query to retrieve Case records to process.</div><div class='methodSubTitle'>Parameters</div><div class='paramName'>bc</div><div class='paramDescription'>The batchable context.</div><div class='methodSubTitle'>Return Value</div><div class='methodReturns'>A QueryLocator that retrieves Case records with relevant fields.</div></div><div class='methodscopepublic' ><h2 class='methodHeader'><a id='start'/>start</h2><div class='methodSignature'><a target='_blank' class='hostedSourceLink' href='https://github.com/Duelfer-Solutions/case-age-in-days/tree/development/force-app/main/default/classes/CaseBusinessAgeSchedulableBatch.cls#L87'>public Id start()</a></div><div class='methodDescription'>Method to start an hourly scheduled job. Calls the start method with a null parameter.</div><div class='methodSubTitle'>Return Value</div><div class='methodReturns'>The ID of the scheduled job.</div></div><div class='methodscopepublic' ><h2 class='methodHeader'><a id='start'/>start</h2><div class='methodSignature'><a target='_blank' class='hostedSourceLink' href='https://github.com/Duelfer-Solutions/case-age-in-days/tree/development/force-app/main/default/classes/CaseBusinessAgeSchedulableBatch.cls#L96'>public Id start(Integer hour)</a></div><div class='methodDescription'>Method to start the scheduled job.</div><div class='methodSubTitle'>Parameters</div><div class='paramName'>hour</div><div class='paramDescription'>The hour at which to start a daily scheduled job.</div><div class='methodSubTitle'>Return Value</div><div class='methodReturns'>The ID of the scheduled job.</div></div></div></div></div></div></td></tr></table><hr/><center style='font-size:.8em;'><a href='http://github.com/SalesforceFoundation/ApexDoc' target='_blank'>Powered By ApexDoc</a></center></body></html>